<!DOCTYPE html>
<!--
91.461 Assignment 4: Formatting Dynamic Text
By Charlie Sopiep, Umass Lowell Computer Science Student
Contact me at csopiep@gmail.com
Created on 10/4/15
The text I choose for this assignment is from a book called Siddhartha, the book is fairly long 
so I picked an excerpt of the beginning.
full text is here:http://www.gutenberg.org/files/2500/2500-h/2500-h.htm
the license listed above in that page allows me to use it
-->

<html>
    <head>
        
        <title>Assignment 5</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Works if you are connected to the internet, not included here -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        
        <!--  The css file should be located in the css subdirectory  -->
        <link rel="stylesheet" href="css/style.css" > 
        
    <!-- This code was not written by me, it was done by Professor Jesse Heines.
         Loads the JSON file and fixes the problem with the UMASS servers when uploading.
         Thanks to Curran Kelleher and Professor Heines for fixing the code-->
    <script type="text/javascript">
     // this function will run after the body has been loaded
     jQuery(document).ready( function() {
      jQuery.get( "Test.json", function( data ) {
      placeContent( data ) ;  // construct output from the data read
      }, "json" );  // be sure to include this third parameter for weblab.cs.uml.edu
     });
    </script>

    <!-- This code was again not written by me, it was done by Professor Jesse Heines.
     However I modified it according to my JSON file.
     What I did:
     Removed: class=authorsTitle, class=locationLabel and class=location
     Added: class=published, class=pubdate and id='Assn-p01'
     I modified the paragraph loop to have an id attached so I don't have to make
     another css file just for it.
    -->
    <script type="text/javascript">
 
    // N.B.  This version *does* apply the CSS.
    function placeContent( story ) {
    var strContent = "";
   
    // create dynamic content from JSON
    strContent += "<h1 class='title'>" + story.title + "</h1>" ;
    strContent += "<h2 class='author'>by " + story.author + "</h2>" ;
    strContent += "<h3 class='publisher'>" + "Published by: " + story.publisher + "</h3>" ;
    strContent += "<h3 class='pubdate'>" + "Published in the US during the year " + story.date + "</h3>" ;

    // loop through all the paragraphs and sentences
    for ( var para = 0 ; para < story.text.paragraphs.length ; para++ ) {
      strContent += "<p id='Assn-p01'>" ;
      for ( var sent = 0 ; sent < story.text.paragraphs[para].length ; sent++ ) {
        strContent += story.text.paragraphs[para][sent] + "  " ;
      }
      strContent += "</p>" ;
     }
 
    // place dynamic content on page
    // document.getElementById( "content" ).innerHTML = strContent ;
    $("#content").html( strContent ) ;
    
     }
    </script>
    
    </head>
    
    <body>
        <!-- Added a link back to home page because I might link to this page instead of my index -->
        <div> <a id="Assn5-link01" href="Index.html">Return to Index</a></div>
        
        <!-- The book title which was already small so I didn't need to mess with it,
             which is great because I can keep its quality-->
        <img id="Assn5-img01" src="BookTitle.jpg" alt= "Book Title">
        
        <!-- JSON contents are dumped here -->
        <div id="content"> </div>
    </body>
</html>
